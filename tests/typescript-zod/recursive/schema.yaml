$schema: "https://json-schema.org/draft/2020-12/schema"
title: Recursive
description: Test recursive/self-referencing types
$defs:
  TreeNode:
    type: object
    properties:
      value:
        type: string
      children:
        type: array
        items:
          $ref: "#/$defs/TreeNode"
    required:
      - value

  LinkedListNode:
    type: object
    properties:
      data:
        type: integer
      next:
        $ref: "#/$defs/LinkedListNode"
    required:
      - data

  BinaryTree:
    type: object
    properties:
      value:
        type: number
      left:
        $ref: "#/$defs/BinaryTree"
      right:
        $ref: "#/$defs/BinaryTree"
    required:
      - value

  Graph:
    type: object
    properties:
      id:
        type: string
      edges:
        type: array
        items:
          type: object
          properties:
            target:
              $ref: "#/$defs/Graph"
            weight:
              type: number
          required:
            - target

  MutualA:
    type: object
    properties:
      name:
        type: string
      b:
        $ref: "#/$defs/MutualB"
    required:
      - name

  MutualB:
    type: object
    properties:
      name:
        type: string
      a:
        $ref: "#/$defs/MutualA"
    required:
      - name

  # Cycle through alias type: Category -> CategoryList -> Category
  Category:
    type: object
    properties:
      name:
        type: string
      children:
        $ref: "#/$defs/CategoryList"
    required:
      - name

  CategoryList:
    type: array
    items:
      $ref: "#/$defs/Category"

  # 3-node struct cycle: Department -> Team -> Employee -> Department
  Department:
    type: object
    properties:
      name:
        type: string
      teams:
        type: array
        items:
          $ref: "#/$defs/Team"
    required:
      - name

  Team:
    type: object
    properties:
      name:
        type: string
      members:
        type: array
        items:
          $ref: "#/$defs/Employee"
    required:
      - name

  Employee:
    type: object
    properties:
      name:
        type: string
      department:
        $ref: "#/$defs/Department"
    required:
      - name
